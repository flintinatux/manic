<!DOCTYPE html>
<html>
  <head>
    <title>Manic Demo</title>
    <script type="text/javascript" src="dist/manic.js"></script>
    <style type="text/css">
      #game { border: 1px solid black; }
      .ball { background: black; border-radius: 50%; }
      .paddle { border-radius: 4px; }
      .one { background: blue; }
      .two { background: red; }
    </style>
  </head>
  <body>
    <div id="game"></div>
    <script type="text/javascript">
      var manic = Manic(document.getElementById('game'), 0.6);

      manic.components({
        "Oscillation": {
          "amp": 1,
          "dir": "x",
          "rate": 0.1,
          "step": 0
        }
      });

      manic.system({
        name: 'Oscillation',
        phase: 'physics',
        deps: ['Oscillation', 'BasicMotion'],

        update(id, [o, m], ctx) {
          m[`v${o.dir}`] = o.amp * Math.cos(o.rate * o.step++);
        }
      })

      manic.templates({
        "Ball": {
          "BasicMotion": {},
          "BasicRender": {
            "className": "ball",
            "h": 2,
            "w": 2
          },
          "Oscillation": {},
          "Position": {}
        }
      });

      manic.stage([
        {
          "type": "Ball",
          "state": {
            "Position": {
              "x": 50,
              "y": 30
            }
          }
        }
      ]);
    </script>
  </body>
</html>
